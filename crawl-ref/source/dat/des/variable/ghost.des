##############################################################################
# Ghost vaults
#
##############################################################################

###############################################################################
# Two basic ghost vaults
NAME:   basic_ghost_runed
CHANCE: 10%
DEPTH:  D:3-, Lair, Elf, Orc, Snake, Shoals, Swamp, Spider, Depths, Vaults, Crypt, Zot
TAGS:   player_ghost luniq_player_ghost chance_player_ghost no_tele_into no_trap_gen allow_dup
KITEM:  ! = any useful good_item / nothing
KMONS:  ! = generate_awake player ghost
MAP
nnn
=!n
nnn
ENDMAP

NAME:   basic_ghost_transp
CHANCE: 10%
DEPTH:  D:3-, Lair, Elf, Orc, Snake, Shoals, Swamp, Spider, Depths, Vaults, Crypt
TAGS:   player_ghost luniq_player_ghost chance_player_ghost no_tele_into no_trap_gen allow_dup
KMONS:  ! = generate_awake player ghost
SHUFFLE: |AQR, PS
MARKER: P = lua:transp_loc("basic_ghost_transp_entry")
MARKER: Q = lua:transp_dest_loc("basic_ghost_transp_entry")
MARKER: R = lua:transp_loc("basic_ghost_transp_exit")
MARKER: S = lua:transp_dest_loc("basic_ghost_transp_exit")
SUBST: A = .
MAP
 nnnnn
nn.|.nn
n.$.$.n
nA.!.Rn
n.$.$.n
nn.Q.nn
 nnnnn
 .P@S.
ENDMAP

NAME:   basic_ghost_runed_special
CHANCE: 5%
DEPTH:  Depths, Crypt, Zot, Pan, Dis, Geh, Tar, Coc
TAGS:   player_ghost luniq_player_ghost chance_player_ghost no_tele_into no_trap_gen allow_dup
KITEM:  ! = acquire any / any useful good_item
KMONS:  ! = generate_awake player ghost
MAP
nnn
=!n
nnn
ENDMAP

NAME:   vaults_ghost_runed
WEIGHT: 30
TAGS:   vaults_room player_ghost luniq_player_ghost no_trap_gen no_tele_into allow_dup
KITEM:  1 = any useful good_item / nothing
KMONS:  ! = generate_awake player ghost
KMONS:  2 = vault_guard / nothing
SHUFFLE: 12!
MAP
......
.nnnn.
.n12n.
.n2!n.
.n==n.
......
ENDMAP

# based on st_lines
NAME:   vaults_ghost_runed2
WEIGHT: 70
TAGS:   vaults_hard player_ghost luniq_player_ghost no_trap_gen no_tele_into allow_dup
KITEM:  1 = acquire any / any useful good_item / nothing
KMONS:  ! = generate_awake player ghost
KMONS:  2 = generate_awake patrolling vault warden
KMONS:  3 = generate_awake patrolling vault guard
SHUFFLE: 123!
MAP
........
nnn==nnn
..=!2=..
..=31=..
nnn==nnn
........
ENDMAP
